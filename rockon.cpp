/*==============================================================================

rockonの処理 [rockon.cpp]
作成者 : 中西　祐介
作成日 :
--------------------------------------------------------------------------------
■Update :
==============================================================================*/

//------------------------------------------------------------------------------
//　ヘッダファイル
//------------------------------------------------------------------------------
#include "main.h"
#include "modeGame.h"
#include "textureManager.h"
#include "renderer.h"
#include "rockon.h"

//------------------------------------------------------------------------------
// マクロ定義
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// デストラクタ
//------------------------------------------------------------------------------
CRockon::~CRockon()
{
}

//------------------------------------------------------------------------------
//　初期化
//------------------------------------------------------------------------------
void CRockon::Init()
{
	// 初期化
	m_timer = 0;
	m_use = false;

	// ビルボードの初期化
	CBillboard::Init();

	// オブジェクトタイプの設定
	SetObjType(OBJTYPE_MESHFIELD);
}

//------------------------------------------------------------------------------
//　終了処理
//------------------------------------------------------------------------------*/
void CRockon::Uninit(void)
{
	CBillboard::Uninit();
	CScene::SetDelete();
}

//------------------------------------------------------------------------------
//　更新
//------------------------------------------------------------------------------
void CRockon::Update(void)
{
	m_timer++;
}

//------------------------------------------------------------------------------
//　描画処理
//------------------------------------------------------------------------------
void CRockon::Draw(void)
{
	CBillboard::Draw();
}

//------------------------------------------------------------------------------
//　作成
//------------------------------------------------------------------------------
CRockon* CRockon::Create(D3DXVECTOR3 pos, D3DXVECTOR3 size, int rockonID, char* filePass)
{
	CRockon* pRockon = new CRockon(CScene::PRIORITY_BILLBOARD);

	pRockon->SetPos(pos);
	pRockon->SetSize(size);
	pRockon->SetRockonID(rockonID);

	// テクスチャのロード
	pRockon->SetTexID(CTextureManager::LoadTexture(filePass, CTextureManager::TEXTYPE_NONE));
	pRockon->Init();

	return pRockon;
}

