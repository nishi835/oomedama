/*==============================================================================

    textureの処理 [texture.cpp]
                                                       作成者 : 中西　祐介
                                                       作成日 :
--------------------------------------------------------------------------------
    ■Update : 
==============================================================================*/

/*------------------------------------------------------------------------------
  　ヘッダファイル
------------------------------------------------------------------------------*/
#include "texture.h"
#include "renderer.h"

//=============================================================================
// コンストラクタ
//=============================================================================
CTexture::CTexture( char* filepass)
{
	m_filepass = filepass;

	LPDIRECT3DDEVICE9 pDevice = CRenderer::GetDevice();

	if( m_filepass[ 0 ] == '\0')
	{
		MessageBox(NULL, "ファイルパスが読み込まれてない！テクスチャ生成失敗", "エラー", MB_OK | MB_ICONHAND);
		return;
	}

	// テクスチャのロード
	if ( FAILED( D3DXCreateTextureFromFile( pDevice, m_filepass, &m_pTexture ) ) )
	{
		MessageBox( NULL, "テクスチャの読み込みが失敗しました", "エラー", MB_OK | MB_ICONHAND );
		return;
	}
}

//=============================================================================
// デストラクタ
//=============================================================================
CTexture::~CTexture()
{
}

//=============================================================================
// 終了処理
//=============================================================================
void CTexture::Uninit( void )
{
}

//=============================================================================
// シーンの終了処理
//=============================================================================
void CTexture::Release( void )
{
	
}

//=============================================================================
// テクスチャパスのゲッター
//=============================================================================
char* CTexture::GetTexpass( void )
{
	return m_filepass;
}

//=============================================================================
// テクスチャのポインタのゲッター
//=============================================================================
LPDIRECT3DTEXTURE9 CTexture::GetTexPointer( void )
{
	return m_pTexture;
}

