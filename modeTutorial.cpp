/*==============================================================================

    modeTutorialの処理 [modeTutorial.cpp]
                                                       作成者 : 中西　祐介
                                                       作成日 : 
--------------------------------------------------------------------------------
    ■Update : 
==============================================================================*/

/*------------------------------------------------------------------------------
  　ヘッダファイル
------------------------------------------------------------------------------*/
#include "main.h"
#include "manager.h"
#include "modeTutorial.h"
#include "modeTitle.h"
#include "textureManager.h"
#include "filepassHeader.h"
#include "sound.h"
#include "background.h"

/*------------------------------------------------------------------------------
　マクロ
------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------
  　静的メンバ変数
------------------------------------------------------------------------------*/
// オブジェクト
CBackground* CModeTutorial::m_background = NULL;

// その他

/*------------------------------------------------------------------------------
  　デストラクタ
------------------------------------------------------------------------------*/
CModeTutorial::~CModeTutorial()
{
}

/*------------------------------------------------------------------------------
  　初期化
------------------------------------------------------------------------------*/
void CModeTutorial::Init(void)
{
	// パラメータ初期化
	m_page = 0;

	// テクスチャ読み込み //////////////////////////////////////////////
	
	// インスタンス生成 /////////////////////////////////////////////////

	// オブジェクト
	m_background = CBackground::Create(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 1.5f, 0.0f), D3DXVECTOR3(SCREEN_WIDTH, SCREEN_HEIGHT * 3.0f, 0.0f), 1.0f, TUTORIAL_BACKGROUND_TEXTURENAME);

	// その他

	PlaySound(SOUND_LABEL_BGM000);
}

/*------------------------------------------------------------------------------
  　終了処理
------------------------------------------------------------------------------*/
void CModeTutorial::Uninit( void )
{
	CScene::ReleaseAll();	

	StopSound(SOUND_LABEL_BGM000);
}

/*------------------------------------------------------------------------------
  　更新
------------------------------------------------------------------------------*/
void CModeTutorial::Update(void)
{
	if (CManager::GetInputKeyboard()->GetKeyTrigger(DIK_SPACE))
	{
		m_page++;
		if (m_page > 2)
		{
			CManager::Fade(new CModeTitle);
			return;
		}

		m_background->AddPos(D3DXVECTOR3(0.0f, -SCREEN_HEIGHT, 0.0f));
	}
}

/*------------------------------------------------------------------------------
  　描画処理
------------------------------------------------------------------------------*/
void CModeTutorial::Draw( void )
{
}
