/*==============================================================================

cameraの処理 [camera.cpp]
作成者 : 中西　祐介
作成日 :
--------------------------------------------------------------------------------
■Update :
==============================================================================*/

/*------------------------------------------------------------------------------
　ヘッダファイル
 ------------------------------------------------------------------------------*/
#include "debug.h"
#include "manager.h"
#include "modeGame.h"
#include "renderer.h"
#include <stdio.h>

 /*------------------------------------------------------------------------------
 　静的メンバ変数
  ------------------------------------------------------------------------------*/
LPD3DXFONT CDebug::m_pFont = NULL;
char CDebug::m_Text[1024] = {};

 //=============================================================================
 // コンストラクタ
 //=============================================================================
CDebug::CDebug()
{
}

//=============================================================================
// デストラクタ
//=============================================================================
CDebug::~CDebug()
{
}

//=============================================================================
// 初期化処理
//=============================================================================
void CDebug::Init(void)
{	
	// デバイスの取得
	LPDIRECT3DDEVICE9 pDevice = CRenderer::GetDevice();

	// *** フォントの作成 ***
	D3DXCreateFont(pDevice,		// デバイス
		24,						// 文字の高さ
		0,						// 文字の幅（0を入れると、文字の高さにあわせた幅が入る）
		0,						// 文字の太さ（0がデフォルト）
		0,						// ミップマップレベル数
		FALSE,					// イタリックかどうか
		SHIFTJIS_CHARSET,		// 文字セット
		OUT_DEFAULT_PRECIS,
		DEFAULT_QUALITY,
		DEFAULT_PITCH,
		"Terminal",				// フォント名
		&m_pFont);				// フォントインターフェースの格納
}

//=============================================================================
// 終了処理
//=============================================================================
void CDebug::Uninit(void)
{
	if (m_pFont != NULL)
	{
		m_pFont->Release();
		m_pFont = NULL;
	}
}

//=============================================================================
// 更新処理
//=============================================================================
void CDebug::Update(void)
{
}

//=============================================================================
// 描画処理
//=============================================================================
void CDebug::Draw(void)
{
	RECT rc = { 0, 0, SCREEN_WIDTH, SCREEN_HEIGHT };		// フォント表示の矩形
	m_pFont->DrawText(NULL,					// デバイスコンテキスト
		m_Text,								// 表示文字列
		-1,									// 文字数（-1は全部）
		&rc,								// 範囲
		DT_LEFT,							// 表示方法（左詰め）
		D3DCOLOR_RGBA(255, 128, 128, 255)   // 色
	);
}

//=============================================================================
// テキストの消去
//=============================================================================
void CDebug::ClearText(void)
{
	strcpy(m_Text, "");
}

//=============================================================================
// テキストの追加
//=============================================================================
void CDebug::AddText(char* Text)
{
	strcat(m_Text, Text); // 文字連結
}
